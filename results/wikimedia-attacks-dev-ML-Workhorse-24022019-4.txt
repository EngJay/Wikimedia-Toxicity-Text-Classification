(tf_gpu) ubuntu@ip-172-31-35-157:~/projects/Wikimedia-Toxicity-Text-Classification$ ./wikitox.py -v -e 10
/home/ubuntu/miniconda3/envs/tf_gpu/lib/python3.5/site-packages/requests/__init__.py:91: RequestsDependencyWarning: urllib3 (1.24.1) or chardet (3.0.4) doesn't match a supported version!
  RequestsDependencyWarning)
2019-02-24 17:12:19.144729: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA
2019-02-24 17:12:21.338179: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:892] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2019-02-24 17:12:21.338516: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1030] Found device 0 with properties:
name: Tesla K80 major: 3 minor: 7 memoryClockRate(GHz): 0.8235
pciBusID: 0000:00:1e.0
totalMemory: 11.17GiB freeMemory: 11.10GiB
2019-02-24 17:12:21.338548: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:1e.0, compute capability: 3.7)
Found GPU at : /device:GPU:0
loading data
converting data to arrays
processing record 115841 of 115841
building text_cnn
2019-02-24 17:12:27.696245: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1120] Creating TensorFlow device (/device:GPU:0) -> (device: 0, name: Tesla K80, pci bus id: 0000:00:1e.0, compute capability: 3.7)
training network on 104256 documents, validating on 11585 documents
iteration 50000 validation accuracy: 93.1636%99
iteration 100000 validation accuracy: 93.7592%78
epoch 1, sample 104256 of 104256, loss: 0.002801
epoch 1 (Gao's) training accuracy: 91.5468%
correct: 95443
DEBUG:root:None
total: 104256
DEBUG:root:None
[[88831  2641]
 [ 6172  6612]]
              precision    recall  f1-score   support

           0       0.94      0.97      0.95     91472
           1       0.71      0.52      0.60     12784

   micro avg       0.92      0.92      0.92    104256
   macro avg       0.82      0.74      0.78    104256
weighted avg       0.91      0.92      0.91    104256

accuracy: 0.9154676949048496
precision: 0.7145790554414785
recall: 0.5172090112640801
f1: 0.6000816808095476
log loss: 2.919662639130228
DEBUG:matplotlib.axes._base:update_title_pos
DEBUG:matplotlib.font_manager:findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=10.0 to DejaVu Sans ('/home/ubuntu/miniconda3/envs/tf_gpu/lib/python3.5/site-packages/matplotlib/mpl-data/fonts/ttf/DejaVuSans.ttf') with score of 0.050000.
DEBUG:matplotlib.axes._base:update_title_pos
epoch 1 validation accuracy: 93.6815%
iteration 50000 validation accuracy: 93.7592%24
iteration 100000 validation accuracy: 93.8369%06
epoch 2, sample 104256 of 104256, loss: 0.012445
epoch 2 (Gao's) training accuracy: 93.3481%
correct: 97321
DEBUG:root:None
total: 104256
DEBUG:root:None
[[89381  2091]
 [ 4844  7940]]
              precision    recall  f1-score   support

           0       0.95      0.98      0.96     91472
           1       0.79      0.62      0.70     12784

   micro avg       0.93      0.93      0.93    104256
   macro avg       0.87      0.80      0.83    104256
weighted avg       0.93      0.93      0.93    104256

accuracy: 0.9334810466543892
precision: 0.791546206759047
recall: 0.6210888610763454
f1: 0.6960333114179268
log loss: 2.2974992926731526
DEBUG:matplotlib.axes._base:update_title_pos
DEBUG:matplotlib.axes._base:update_title_pos
epoch 2 validation accuracy: 93.8369%
iteration 50000 validation accuracy: 93.8800%33
iteration 100000 validation accuracy: 93.9318%17
epoch 3, sample 104256 of 104256, loss: 0.023404
epoch 3 (Gao's) training accuracy: 93.8114%
correct: 97804
DEBUG:root:None
total: 104256
DEBUG:root:None
[[89612  1860]
 [ 4592  8192]]
              precision    recall  f1-score   support

           0       0.95      0.98      0.97     91472
           1       0.81      0.64      0.72     12784

   micro avg       0.94      0.94      0.94    104256
   macro avg       0.88      0.81      0.84    104256
weighted avg       0.93      0.94      0.93    104256

accuracy: 0.9381138735420503
precision: 0.8149621965777955
recall: 0.6408010012515645
f1: 0.7174636538798389
log loss: 2.137485349056015
DEBUG:matplotlib.axes._base:update_title_pos
DEBUG:matplotlib.axes._base:update_title_pos
epoch 3 validation accuracy: 93.9663%
iteration 50000 validation accuracy: 93.9232%52
iteration 100000 validation accuracy: 93.8628%24
epoch 4, sample 104256 of 104256, loss: 0.041529
epoch 4 (Gao's) training accuracy: 94.0042%
correct: 98005
DEBUG:root:None
total: 104256
DEBUG:root:None
[[89734  1738]
 [ 4513  8271]]
              precision    recall  f1-score   support

           0       0.95      0.98      0.97     91472
           1       0.83      0.65      0.73     12784

   micro avg       0.94      0.94      0.94    104256
   macro avg       0.89      0.81      0.85    104256
weighted avg       0.94      0.94      0.94    104256

accuracy: 0.9400418201350522
precision: 0.8263562793485862
recall: 0.6469806007509387
f1: 0.7257491335059008
log loss: 2.070895497092929
DEBUG:matplotlib.axes._base:update_title_pos
DEBUG:matplotlib.axes._base:update_title_pos
epoch 4 validation accuracy: 93.9404%
iteration 50000 validation accuracy: 93.8800%60
iteration 100000 validation accuracy: 93.9922%52
epoch 5, sample 104256 of 104256, loss: 0.016343
epoch 5 (Gao's) training accuracy: 94.0445%
correct: 98047
DEBUG:root:None
total: 104256
DEBUG:root:None
[[89780  1692]
 [ 4517  8267]]
              precision    recall  f1-score   support

           0       0.95      0.98      0.97     91472
           1       0.83      0.65      0.73     12784

   micro avg       0.94      0.94      0.94    104256
   macro avg       0.89      0.81      0.85    104256
weighted avg       0.94      0.94      0.94    104256

accuracy: 0.9404446746470227
precision: 0.8301034240385581
recall: 0.6466677096370463
f1: 0.7269929208987381
log loss: 2.056981042384634
DEBUG:matplotlib.axes._base:update_title_pos
DEBUG:matplotlib.axes._base:update_title_pos
epoch 5 validation accuracy: 93.9318%
iteration 50000 validation accuracy: 93.9059%75
iteration 100000 validation accuracy: 93.9750%72
epoch 6, sample 104256 of 104256, loss: 0.008946
epoch 6 (Gao's) training accuracy: 94.1893%
correct: 98198
DEBUG:root:None
total: 104256
DEBUG:root:None
[[89836  1636]
 [ 4422  8362]]
              precision    recall  f1-score   support

           0       0.95      0.98      0.97     91472
           1       0.84      0.65      0.73     12784

   micro avg       0.94      0.94      0.94    104256
   macro avg       0.89      0.82      0.85    104256
weighted avg       0.94      0.94      0.94    104256

accuracy: 0.9418930325352978
precision: 0.836367273454691
recall: 0.65409887359199
f1: 0.7340883153366693
log loss: 2.0069561036464547
DEBUG:matplotlib.axes._base:update_title_pos
DEBUG:matplotlib.axes._base:update_title_pos
epoch 6 validation accuracy: 93.9232%
iteration 50000 validation accuracy: 93.8886%07
iteration 100000 validation accuracy: 93.9318%18
epoch 7, sample 104256 of 104256, loss: 0.014090
epoch 7 (Gao's) training accuracy: 94.1807%
correct: 98189
DEBUG:root:None
total: 104256
DEBUG:root:None
[[89866  1606]
 [ 4461  8323]]
              precision    recall  f1-score   support

           0       0.95      0.98      0.97     91472
           1       0.84      0.65      0.73     12784

   micro avg       0.94      0.94      0.94    104256
   macro avg       0.90      0.82      0.85    104256
weighted avg       0.94      0.94      0.94    104256

accuracy: 0.9418067065684469
precision: 0.8382515862624635
recall: 0.6510481852315394
f1: 0.7328842513098227
log loss: 2.0099374668258525
DEBUG:matplotlib.axes._base:update_title_pos
DEBUG:matplotlib.axes._base:update_title_pos
epoch 7 validation accuracy: 93.9404%
iteration 50000 validation accuracy: 93.8800%79
packet_write_wait: Connection to 3.17.60.80 port